#include<stdio.h> #include"SDL/SDL.h" #include<SDL/SDL_image.h> #include <SDL/SDL_ttf.h> int main () { SDL_Surface *screen=NULL,*image,*jouer; SDL_Rect postionimage,posjouer,posjouer2; SDL_Event event; int done=1; TTF_Init(); TTF_Font *police = NULL; SDL_Color couleurrouge = {255,0,0};// couleur de texte(blanche) SDL_Surface *texte;//creation de surface texte SDL_Rect position_text={0,0};//position de texte (win t7eb t'affichi text) SDL_Init(SDL_INIT_VIDEO); if(SDL_Init(SDL_INIT_VIDEO)!=0) { printf("unable to initialize SDL: %s\n",SDL_GetError()); return 1; } screen=SDL_SetVideoMode(1000,562,32,SDL_HWSURFACE|SDL_DOUBLEBUF); if(screen==NULL) { printf("unable to set video mode:%s\n",SDL_GetError()); return 1; } image=SDL_LoadBMP("carte.bmp");// SDL_LoadBMP postionimage.x=0; postionimage.y=0; postionimage.w=600; postionimage.h=400; jouer=IMG_Load("1.png"); posjouer.x=0; posjouer.y=0; //SDL_Rect position_text={100,100}; police = TTF_OpenFont("GothamMedium.ttf", 30);// police texte = TTF_RenderText_Blended(police, "TRESOR", couleurrouge); SDL_BlitSurface(image, NULL,screen,&postionimage); SDL_BlitSurface(jouer,NULL,screen,&posjouer);//img // SDL_BlitSurface(texte, NULL,screen,&position_text); SDL_Flip(screen); jouer=IMG_Load("2.png"); posjouer2.x=1000; posjouer2.y=1000; //SDL_Rect position_text={100,100}; police = TTF_OpenFont("GothamMedium.ttf", 30);// police texte = TTF_RenderText_Blended(police, "BATEAU", couleurrouge); SDL_BlitSurface(image, NULL,screen,&postionimage); SDL_BlitSurface(jouer,NULL,screen,&posjouer);//img // SDL_BlitSurface(texte, NULL,screen,&position_text); SDL_Flip(screen); while(done) { SDL_WaitEvent(&event); switch(event.type) { case SDL_QUIT: done=0; break; case SDL_KEYUP: switch(event.key.keysym.sym) { case SDLK_p: SDL_BlitSurface(image, NULL,screen,&postionimage); SDL_BlitSurface(texte, NULL,screen,&position_text); SDL_Flip(screen); SDL_Delay(1000); } case SDL_MOUSEBUTTONDOWN : //play if((event.button.button==SDL_BUTTON_LEFT)&&(event.button.x<posjouer.x+jouer->w&&event.button.x>posjouer.x)&&(event.button.y<posjouer.y+jouer->h&&event.button.y>posjouer.y)) { SDL_BlitSurface(image, NULL,screen,&postionimage); SDL_BlitSurface(texte, NULL,screen,&position_text); SDL_Flip(screen); SDL_Delay(1000); }} SDL_BlitSurface(image, NULL,screen,&postionimage); SDL_BlitSurface(jouer,NULL,screen,&posjouer);// //SDL_BlitSurface(texte, NULL,screen,&position_text); SDL_Flip(screen); } SDL_FreeSurface(screen); SDL_Quit(); return 0; }
